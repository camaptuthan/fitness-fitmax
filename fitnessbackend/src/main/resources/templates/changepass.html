<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Reset Password</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" th:href="@{/css/stylelogin.css}">
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- jQuery Validation Plugin -->
    <script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/jquery.validate.min.js"></script>
</head>

<body class="img js-fullheight" th:style="'background: url(/img/bg-2.jpg)'">
<section class="ftco-section">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-6 text-center mb-5">
                <h2 class="heading-section"><img th:src="@{/img/logo.svg}" alt="logo"></h2>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-md-6 col-lg-4">
                <div class="login-wrap p-0">
                    <h3 class="mb-4 text-center"><a href="/login">Reset Password</a></h3>
                    <form method="post" id="form-result-reset"  th:action="@{/user/reset-password-result}" class="signin-form">
                        <input type="hidden"  name="email" th:value="${email}">
                        <div class="form-group">
                            <input type="password" id="password"  class="form-control" name="password" placeholder="Enter password" required>
                        </div>
                        <div class="form-group">
                            <input type="password" id="repassword" class="form-control" name="repassword" placeholder="Again password" required>
                        </div>
                        <h5 style="color: red" th:text="${invalid}"></h5>
                        <div class="form-group">
                            <button type="submit" class="form-control btn btn-primary submit px-3">Submit</button>
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
<script>

    $(document).ready(function () {
        $("#form-result-reset").validate({
            // Specify validation rules
            rules: {
                repassword: {
                    required: true,
                },
                password: {
                    required: true,
                },
            },

            // Specify validation error messages
            messages: {
                repassword: {
                    required: "Please provide a re-password",
                },
                password: {
                    required: "Please provide a password",
                },
            },

            // Submit form if validation passes
            submitHandler: function (form) {
                form.submit();
            }
        });
    });

</script>
</body>
</html>