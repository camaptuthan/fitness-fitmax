<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="stylesheet" th:href="@{/css/font-awesome.min.css}">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.2/css/jquery.dataTables.min.css">
    <base href="/">
</head>
<th:block th:insert="/fragments/admin_fragment/header"></th:block>
<!-- Mirrored from educhamp.themetrades.com/demo/admin/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 22 Feb 2019 13:08:15 GMT -->
<th:block th:insert="/fragments/admin_fragment/head"></th:block>
<body class="ttr-opened-sidebar ttr-pinned-sidebar">
<th:block th:insert="/fragments/admin_fragment/sidebar_fragment"></th:block>
<!-- Left sidebar menu end -->

<!--Main container start -->
<main class="ttr-wrapper">
    <div class="container-fluid">
        <div class="db-breadcrumb">
            <h4 class="breadcrumb-title">User Manager</h4>
            <ul class="db-breadcrumb-list">
                <li><a href="#"><i class="fa fa-home"></i>Home</a></li>
                <li>User Manager</li>
            </ul>
        </div>

        <div class="row">
            <!-- Your Profile Views Chart -->
            <div class="col-lg-12 m-b30">
                <div class="widget-box">

                    <div class="wc-title row">
                        <h4>User List</h4>
                        <!--            <div class="btn-light btn-outline-success ml-auto mr-4 row col-4">-->
                        <!--              <form id="searchFilter" th:action="@{/management/listuserchangest}">-->
                        <!--                <div>-->
                        <!--                  Filter: <input type="text" th:name="keyword" th:value="${currentKeyword}" required/>-->
                        <!--                  &nbsp-->
                        <!--                  <input id="btn-submit" type="submit" value="Search"/>-->
                        <!--                  &nbsp-->
                        <!--                </div>-->
                        <!--              </form>-->
                        <!--            </div>-->
                        <!--          </div>-->

                        <!--          <div class="container-fluid row ml-3 mt-7">-->
                        <!--            <div class="table-title" >-->
                        <!--              <form id="searchFilter1" th:action="@{/user/management/listusers}">-->
                        <!--                <div class="row">-->
                        <!--                  <div class="col-md-4">-->
                        <!--                    Role: <select  th:name="roleId" style="width:30%" onchange="submitForm()">-->
                        <!--                    <option>All</option>-->
                        <!--                    <th:block th:each="role : ${listRole}">-->
                        <!--                      <option  th:text="${role.name}" th:value="${role.id}"-->
                        <!--                               th:selected="${role.id == currentRole}"></option>-->
                        <!--                    </th:block>-->
                        <!--                  </select>-->
                        <!--                  </div>-->
                        <!--                  <div class="col-md-4">-->
                        <!--                    City: <select th:name="cityName" style="width:30%" onchange="submitForm()">-->
                        <!--                    <option>All</option>-->
                        <!--                    <th:block th:each="city : ${listCity}">-->
                        <!--                      <option th:value="${city.name}" th:text="${city.name}"-->
                        <!--                              th:selected="${city.name == currentCity}"></option>-->
                        <!--                    </th:block>-->
                        <!--                  </select>-->
                        <!--                  </div>-->
                        <!--                  <div class="col-md-4">-->
                        <!--                    Studio: <select th:name="studioId" style="width:30%" onchange="submitForm()">-->
                        <!--                    <option>All</option>-->
                        <!--                    <th:block th:each="studio : ${listStudio}">-->
                        <!--                      <option th:value="${studio.id}" th:text="${studio.name}"-->
                        <!--                              th:selected="${studio.id == currentStudio}"></option>-->
                        <!--                    </th:block>-->
                        <!--                  </select>-->
                        <!--                  </div>-->
                        <!--                </div>-->
                        <!--              </form>-->
                        <!--            </div>-->
                        <div>&nbsp</div>


                        <div class="widget-inner">
                            <table class="table table-hover table-bordered sortable" id="user_list">
                                <thead>
                                <tr>
                                    <th hidden=""> Avata</th>
                                    <th>Email</th>
                                    <th>Full Name</th>
                                    <th>Old City</th>
                                    <th>New Studio</th>
                                    <th>New Studio</th>
                                    <th>Status</th>
                                    <th>Update</th>
                                </tr>
                                </thead>
                                <tbody>

                                <tr th:each="trainee: ${list}">
                                    <td style="height: 100%;" class="" hidden="">
                                        <img class="img-fluid" style="width: 100%; aspect-ratio: 1/1;"
                                             th:src="${trainee.userAvatar}"/>
                                    </td>
                                    <td th:text="${trainee.email}"></td>
                                    <td th:text="${trainee.userCityName}"></td>
                                    <td th:text="${trainee.userFirstName}+' '+${trainee.userLastName}"></td>
                                    <td th:text="${trainee.studioSwitch}"></td>
                                    <td th:text="${trainee.citySwitch}"></td>
                                    <!--                  <td th:text="${trainee.status}"></td>-->
                                    <span th:if="${trainee.status ==0}">
                        <td>Rejected</td>
                    </span>
                                    <span th:if="${trainee.status == 1}">
                    <td>Progressing</td>
</span>
                                    <span th:if="${trainee.status == 2}">

                    <td>Success</td>
</span>
                                    <!--                  <span th:if="${user.status == true}">-->
                                    <!--                        <td>Active</td>-->
                                    <!--                    </span>-->
                                    <!--                  <span th:if="${user.status == false}">-->
                                    <!--                    <td>Deactive</td>-->
                                    <!--                    </span>-->
                                    <td>

                                                              <a class="active"  th:if="${trainee.status == 1}" data-toggle="tooltip" onclick="return confirm('Are you sure you want to approve this Registration?')"
                                                                 th:href="@{/user/management/listuserchangest/accept/{email} (email=${trainee.email})} "><i
                                                                      class="material-icons fa fa-check-circle" style="font-size: 25px" data-hover-only="Verify"></i></a>
                                                              <a class="active"  th:if="${trainee.status == 1}" data-toggle="tooltip" onclick="return confirm('Are you sure you want to reject this Registration?')"
                                                                 th:href="@{/user/management/listuserchangest/reject/{email} (email=${trainee.email})}"><i
                                                                      class="material-icons fa fa-arrow-circle-up" style="font-size: 25px" data-hover-only="Approve"></i></a>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                            <div id="pagination"></div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</main>
<div class="ttr-overlay"></div>

<!-- External JavaScripts -->
<th:block th:insert="/fragments/admin_fragment/script"></th:block>
</body>
<script src="https://cdn.datatables.net/1.13.2/js/jquery.dataTables.min.js"></script>
<script>
    $(document).ready(function () {
        $('#user_list').DataTable({
            // dom: 'rtip',
            columnDefs: [{
                target: 0,
                visible: false,
                searchable: false
            }],
            pagingType: 'full_numbers',
            bLengthChange: false,
            pageLength: 10,
            searching: false,
        });
    });
</script>
<script type="text/javascript">
    function clearFilter() {
        window.location = "[[@{/user/management/listusers}]]";
    }

    function submitForm() {
        document.getElementById("searchFilter").submit();
        document.getElementById("searchFilter1").submit();
    }


</script>
</html>