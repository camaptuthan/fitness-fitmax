<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="stylesheet" th:href="@{/css/font-awesome.min.css}">
    <link href="https://cdn.datatables.net/1.13.2/css/jquery.dataTables.min.css" rel="stylesheet">
</head>
<th:block th:insert="/fragments/admin_fragment/header"></th:block>
<!-- Mirrored from educhamp.themetrades.com/demo/admin/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 22 Feb 2019 13:08:15 GMT -->
<th:block th:insert="/fragments/admin_fragment/head"></th:block>
<body class="ttr-opened-sidebar ttr-pinned-sidebar">
<th:block th:insert="/fragments/admin_fragment/sidebar_fragment"></th:block>
<!-- Left sidebar menu end -->

<!--Main container start -->
<main class="ttr-wrapper">
    <div class="container-fluid">
        <div class="db-breadcrumb">
            <h4 class="breadcrumb-title">Studio Manager</h4>
            <ul class="db-breadcrumb-list">
                <li><a href="#"><i class="fa fa-home"></i>Home</a></li>
                <li>Studio Manager</li>
            </ul>
        </div>

        <div class="row">
            <!-- Your Profile Views Chart -->
            <div class="col-lg-12 m-b30">
                <div class="widget-box">

                    <div class="wc-title row">
                        <h4>Studio List</h4>
                        <div class="btn-light btn-outline-success ml-auto mr-3 row col-2"><a
                                th:href="@{/addstudiomanagers}">
                            <i class="fa fa-plus-circle" style="font-size:18px"></i>
                            <spam clas="mb-5">Add new studio manager</spam>
                        </a>
                        </div>
                    </div>

                    <div class="container-fluid row ml-5 mt-5">
                        <div class="col-lg-12 col-12 col-md-12 col-sm-12 row">

                            <!--                            <form class="col-12 row" action="list" method="GET" id="filter">-->

                            <!--                                <div class="search-box col-lg-3 col-3 col-md-1 col-sm-1 d-inline">-->
                            <!--                                    <i class="fa fa-search ml-3"></i>-->
                            <!--                                    <input type="text" class="form-control" placeholder="Search&hellip;" name="search">-->
                            <!--                                </div>-->
                            <!--                                <div class="search-box col-lg-2 col-1 col-md-1 col-sm-1">-->
                            <!--                                    <input class="btn pl-3 pr-3" type="submit" value="Search">-->
                            <!--                                </div>-->

                            <!--                            </form>-->
                        </div>
                    </div>

                    <div class="widget-inner">

                        <table class="table table-hover table-bordered sortable" id="studio_table">
                            <thead>
                            <tr>

                                <th>Email</th>
                                <th>Studio</th>
                                <th>Address</th>
                                <th>Name</th>
                                <th>Phone</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                            </thead>
                            <tbody>

                            <tr th:each="studiomanager: ${studiomanagers}">
                                <td th:text="${studiomanager.email}"></td>
                                <span th:if="${studiomanager.studio != null}">
                        <td th:text="${studiomanager.studio.name}"> </td>
                    </span>
                                <span th:if="${studiomanager.studio == null}">
                        <td>Haven't taken on any studio yet </td>
                    </span>
                                <td th:text="${studiomanager.user.getAddress()}"></td>
                                <td th:text="${studiomanager.user.getFirstName()}+' '+${studiomanager.user.getLastName()}"></td>
                                <td th:text="${studiomanager.user.getPhone()}"></td>
                                <span th:if="${studiomanager.user.isStatus()}">
                        <td>Active</td>
                    </span>
                                <span th:if="${studiomanager.user.isStatus() == false}">
                    <td>Inactive</td>
                    </span>
                                <td>
                                    <a class="edit" data-toggle="tooltip"
                                       th:href="@{/studiomanager/edit/{email} (email=${studiomanager.email})}"
                                       title="Edit"><i class="material-icons fa">&#xf044;</i></a>
                                    <a class="active" data-toggle="tooltip"
                                       onclick="return confirm('Are you sure you want to change this Studio status?')"
                                       th:href="@{/statusstudios/{id}/{status} (status=${studiomanager.user.isStatus()}, id=${studiomanager.email} )}"
                                       th:if="${studiomanager.user.isStatus() == true}"><i
                                            class="material-icons fa fa-toggle-on color-skins"></i></a>
                                    <a class="active" data-toggle="tooltip"
                                       onclick="return confirm('Are you sure you want to change this Studio status?')"
                                       th:href="@{/statusstudios/{id}/{status} (status=${studiomanager.user.isStatus()}, id=${studiomanager.email} )}"
                                       th:if="${studiomanager.user.isStatus() == false}"><i
                                            class="material-icons fa fa-toggle-off color-skins"></i></a>
                                    <a onclick="return confirm('Are you sure you want to delete this Studio?')"
                                       th:href="@{/studios/{id}(id=${studiomanager.email})}" title="Delete"><i
                                            class="material-icons fa fa-trash"></i>
                                    </a>
                                </td>
                            </tr>
                            </tbody>
                        </table>

                        <div id="pagination"></div>
                    </div>
                </div>
            </div>
        </div>

    </div>
    </div>
</main>
<div class="ttr-overlay"></div>

<!-- External JavaScripts -->
<th:block th:insert="/fragments/admin_fragment/script"></th:block>
</body>
<script src="https://cdn.datatables.net/1.13.2/js/jquery.dataTables.min.js"></script>
<script>
    $(document).ready(function () {
        $('#studio_table').DataTable({
            // dom: 'rtip',
            columnDefs: [{
                target: 0,
                visible: false,
                searchable: false
            }],
            pagingType: 'full_numbers',
            bLengthChange: false,
            pageLength: 5,
            searching: false,
        });
    });
</script>
</html>